---
# The path on the remote system where we should install global npm modules
npm_global_path: "/opt/npm_global"

npm_temp_path: "/tmp/npm"
graphistry_temp_path: "/tmp/graphistry"

# Path on the remote instance where Graphistry nodejs apps will be installed to
graphistry_install_path: "/var/graphistry"

# The Bash environmental variables needed to install node-webcl modules (CUDA + npm config)
nodecl_env:
    DISPLAY: ":0"
    PATH: "{{ npm_global_path }}/bin/:/usr/local/cuda/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games"
    LD_LIBRARY_PATH: "/usr/local/cuda/lib64"
    LIBRARY_PATH: "/usr/local/cuda/lib64"
    C_INCLUDE_PATH: "/usr/local/cuda/include"
    CPLUS_INCLUDE_PATH: "/usr/local/cuda/include"
    npm_config_prefix: "{{ npm_global_path }}"
    NODE_PATH: "{{ npm_global_path }}/lib/node_modules"
    _GRAPHISTRY_CUDA_INIT: 1



user_groups:
  - graphistry-dev
  - www

default_groups:
  - graphistry-dev
  - www

pubkey_base: "{{ playbook_dir }}/roles/users/files/ssh_keys"

users:
  - username: www
    # Only a member of the 'www' group
    groups:
      - sshauthsock
  - username: leo
    pubkey: "{{ pubkey_base }}/leo.pub"
  - username: thibaud
    pubkey: "{{ pubkey_base }}/thibaud.pub"
  - username: quinn
    pubkey: "{{ pubkey_base }}/quinn.pub"
  - username: paden
    pubkey: "{{ pubkey_base }}/paden.pub"
  - username: ubuntu
    pubkey: "{{ playbook_dir }}/tools/ansible_id_rsa.pub"
    groups:
      - graphistry-dev
      - www
      - sudo
      - ubuntu
      - adm
      - dialout
      - cdrom
      - floppy
      - audio
      - dip
      - video
      - plugdev
      - netdev
      - sshauthsock
  - username: mtorok
    pubkey: "{{ pubkey_base }}/mtorok.pub"
    groups:
      - graphistry-dev
      - www
      - sshauthsock
